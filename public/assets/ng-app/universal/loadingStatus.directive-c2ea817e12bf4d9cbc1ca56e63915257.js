!function(){"use strict";function loadingStatus(ngProgress){return{restrict:"A",link:function($scope,$element){var imgLoad=imagesLoaded($element),items_count=$element.find("img").length,cur_item=0;ngProgress.reset(),ngProgress.set(0),imgLoad.on("progress",function(){var progress=cur_item/items_count*100;cur_item+=1,ngProgress.set(progress)}),imgLoad.on("always",function(){ngProgress.complete(),imgLoad.off("progress"),imgLoad.off("always")}),$scope.$on("loading_start",function(){ngProgress.reset(),ngProgress.set(0)}),$scope.$on("loading_progress",function(event,progress){ngProgress.set(progress)}),$scope.$on("loading_complete",function(){ngProgress.complete()})}}}angular.module("phb").directive("loadingStatus",loadingStatus),loadingStatus.$inject=["ngProgress"]}();