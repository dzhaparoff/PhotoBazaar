!function(){"use strict";function animatedFullframeBg(){return{restrict:"A",link:function($scope,$element){function animate_on_scroll(e){var offsetXp=1-(document.body.clientWidth-e.clientX)/document.body.clientWidth,offsetYp=1-(document.body.clientHeight-e.clientY)/document.body.clientHeight,offsetX=-(9*offsetXp-4.5).toFixed(2),offsetY=-(9*offsetYp-4.5).toFixed(2);bg.css({transform:"translate3d("+offsetX+"%, "+offsetY+"%, 0)"})}function animate_on_scroll_mobile(eventData){var yTilt=(9*(1-(-eventData.beta+90)/180)-4.5).toFixed(2),xTilt=(9*(1-(-eventData.gamma+90)/180)-4.5).toFixed(2);bg.css({transform:"translate3d("+xTilt+"%, "+yTilt+"%, 0)"})}{var bg=$element.find(".bg_image"),animation_func=_.throttle(animate_on_scroll,10);_.throttle(animate_on_scroll_mobile,10)}window.addEventListener("mousemove",function(e){animation_func(e)},!1),window.addEventListener("deviceorientation",function(eventData){animate_on_scroll_mobile(eventData)},!1)}}}angular.module("phb").directive("animatedFullframeBg",animatedFullframeBg)}();